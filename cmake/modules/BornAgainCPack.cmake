# file to build installer

set(BORNAGAIN_MAJOR_VERSION "0")
set(BORNAGAIN_MINOR_VERSION "9")
set(BORNAGAIN_PATCH_VERSION "0")

set(BORNAGAIN_VERSION "${BORNAGAIN_MAJOR_VERSION}.${BORNAGAIN_MINOR_VERSION}.${BORNAGAIN_PATCH_VERSION}")

install (FILES ${Boost_LIBRARIES} DESTINATION bin)
install (FILES ${FFTW_LIBRARY} DESTINATION bin)
install (FILES ${GSL_LIBRARIES} DESTINATION bin)

set(CPACK_PACKAGE_NAME "BornAgain")
set(CPACK_PACKAGE_DESCRIPTION "BornAgain: simulate and fit scattering at grazing incidence")
set(CPACK_PACKAGE_VENDOR "Forschungszentrum Jülich")
set(CPACK_PACKAGE_VERSION ${BORNAGAIN_VERSION})
set(CPACK_PACKAGE_VERSION_MAJOR ${BORNAGAIN_MAJOR_VERSION})
set(CPACK_PACKAGE_VERSION_MINOR ${BORNAGAIN_MINOR_VERSION})
set(CPACK_PACKAGE_VERSION_PATCH ${BORNAGAIN_PATCH_VERSION})

configure_file(LICENSE LICENSE.txt COPYONLY)
set(CPACK_RESOURCE_FILE_LICENSE "${CMAKE_BINARY_DIR}/LICENSE.txt")

set(CPACK_PACKAGE_INSTALL_DIRECTORY "BornAgain-${BORNAGAIN_MAJOR_VERSION}.${BORNAGAIN_MINOR_VERSION}.${BORNAGAIN_PATCH_VERSION}")
set(CPACK_MONOLITHIC_INSTALL ON)



# -------------------------------
set(CPACK_GENERATOR NSIS)

set(CPACK_NSIS_MODIFY_PATH ON)

include(CPack)
