# -*- mode: python -*-

# Include file for program lssrc.
# Returns user-written source files.

import glob, re

def source_files(root):
    fnames = []
    # get all files with right extension from pwd
    for d in [ "TestCore", "TestFit" ]:
        fnames += sorted( glob.glob( root+d+"/inc/*.h" ) )
        fnames += sorted( glob.glob( root+d+"/src/*.cpp" ) )
    # remove files known to be machine generated
    out = list(fnames)
    for f in fnames:
        if re.search( r'\.pypp\.', f ):
            out.remove( f )
    return out
